# ğŸ”§ Supabase è¿æ¥é…ç½®æŒ‡å—

## ğŸ“‹ é—®é¢˜è¯Šæ–­

é¡¹ç›®ç›®å‰**ç¼ºå°‘ Supabase ç¯å¢ƒå˜é‡é…ç½®**ï¼Œè¿™ä¼šå¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š
- ğŸš« æ— æ³•è¿æ¥åˆ° Supabase æ•°æ®åº“
- ğŸš« ç™»å½•åŠŸèƒ½æ— æ³•æ­£å¸¸å·¥ä½œ
- ğŸš« æ‰€æœ‰æ•°æ®ç›¸å…³åŠŸèƒ½å¤±æ•ˆ

## ğŸš€ è§£å†³æ–¹æ¡ˆ

### 1. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
# å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶
cp .env.example .env.local
```

### 2. è·å– Supabase é¡¹ç›®ä¿¡æ¯

ç™»å½• [Supabase Dashboard](https://app.supabase.com)ï¼š

1. **é€‰æ‹©æˆ–åˆ›å»ºé¡¹ç›®**
2. **è¿›å…¥ Settings â†’ API**
3. **å¤åˆ¶ä»¥ä¸‹ä¿¡æ¯**ï¼š
   - Project URL
   - anon (public) key

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `.env.local` æ–‡ä»¶ä¸­å¡«å…¥å®é™…å€¼ï¼š

```env
# Supabase é¡¹ç›® URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase åŒ¿åå¯†é’¥
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_actual_anon_key_here
```

### 4. é‡å¯å¼€å‘æœåŠ¡å™¨

é…ç½®å®Œæˆåé‡å¯ï¼š

```bash
# åœæ­¢å½“å‰æœåŠ¡å™¨ (Ctrl+C)
# é‡æ–°å¯åŠ¨
npm run dev
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾ç½®

é…ç½®ç¯å¢ƒå˜é‡åï¼Œéœ€è¦è®¾ç½®æ•°æ®åº“ï¼š

### ğŸš€ å¿«é€Ÿåˆå§‹åŒ– (æ¨è)

1. **ç™»å½• Supabase Dashboard**
   - è®¿é—® [app.supabase.com](https://app.supabase.com)
   - è¿›å…¥ä½ çš„é¡¹ç›®

2. **æ‰§è¡Œå¿«é€Ÿåˆå§‹åŒ–è„šæœ¬**
   - æ‰“å¼€ **SQL Editor**
   - å¤åˆ¶ `scripts/quick_database_init.sql` çš„å†…å®¹
   - ç²˜è´´å¹¶æ‰§è¡Œ

3. **éªŒè¯æ•°æ®åº“åˆ›å»º**
   ```sql
   -- æ£€æŸ¥è¡¨æ˜¯å¦åˆ›å»ºæˆåŠŸ
   SELECT table_name FROM information_schema.tables 
   WHERE table_schema = 'public' 
   ORDER BY table_name;
   ```

### ğŸ“‹ è„šæœ¬åŒ…å«çš„å†…å®¹

- âœ… **æ ¸å¿ƒè¡¨ç»“æ„**: customers, loans, repayments, system_settings
- âœ… **ç¤ºä¾‹æ•°æ®**: 5ä¸ªå®¢æˆ· + å¯¹åº”è´·æ¬¾å’Œè¿˜æ¬¾è®°å½•
- âœ… **è¡Œçº§å®‰å…¨ç­–ç•¥**: åŸºæœ¬çš„RLSé…ç½®
- âœ… **ç´¢å¼•ä¼˜åŒ–**: æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–

### ğŸ”§ å®Œæ•´ç‰ˆæœ¬ (å¯é€‰)

å¦‚æœéœ€è¦å®Œæ•´åŠŸèƒ½ï¼Œå¯ä»¥æ‰§è¡Œï¼š
```sql
-- åœ¨ Supabase SQL Editor ä¸­æ‰§è¡Œ
\i scripts/complete_main_database.sql
```

## âœ… éªŒè¯è¿æ¥

æˆåŠŸé…ç½®åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š
- âœ… è®¿é—®ç™»å½•é¡µé¢
- âœ… è¿›è¡Œç”¨æˆ·è®¤è¯
- âœ… æŸ¥çœ‹å’Œç®¡ç†å®¢æˆ·æ•°æ®

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

- âœ… `.env.local` å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤
- âœ… åªä½¿ç”¨ `anon key`ï¼Œä¸è¦åœ¨å‰ç«¯ä½¿ç”¨ `service role key`
- âœ… ç”Ÿäº§ç¯å¢ƒè¯·åœ¨éƒ¨ç½²å¹³å°è®¾ç½®ç¯å¢ƒå˜é‡

## ğŸ“ å¦‚æœé‡åˆ°é—®é¢˜

1. **æ£€æŸ¥ Supabase é¡¹ç›®çŠ¶æ€** - ç¡®ä¿é¡¹ç›®å¤„äºæ´»è·ƒçŠ¶æ€
2. **éªŒè¯ URL æ ¼å¼** - ç¡®ä¿ URL ä»¥ `https://` å¼€å¤´ï¼Œä»¥ `.supabase.co` ç»“å°¾
3. **æ£€æŸ¥å¯†é’¥æœ‰æ•ˆæ€§** - åœ¨ Supabase Dashboard ä¸­é‡æ–°å¤åˆ¶å¯†é’¥
4. **æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°** - æ£€æŸ¥æ˜¯å¦æœ‰è¿æ¥é”™è¯¯ä¿¡æ¯